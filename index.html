<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora Dual Pro - Estilo Visual Original</title>
    <style>
        :root {
            --bg: #121212;
            --panel: #2d2d2d;
            --accent: #f2a154; /* Naranja */
            --blue: #5183b4;   /* Azul */
            --green: #539d67;  /* Verde */
            --text: #ffffff;
        }

        body {
            font-family: 'Segoe UI', sans-serif;
            background: #000;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
        }

        .calculator {
            background: var(--panel);
            width: 380px;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
        }

        /* --- PANTALLAS (Estilo imagen) --- */
        .prog-screens {
            display: none;
            flex-direction: column;
        }

        .base-row {
            display: flex;
            padding: 12px 15px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            justify-content: space-between;
            align-items: center;
        }

        .base-label { font-weight: bold; width: 60px; font-size: 0.9rem; }
        .base-val { font-family: monospace; font-size: 1.2rem; }

        #std-display {
            background: #222;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding: 0 20px;
            font-size: 2.5rem;
        }

        /* --- TABS --- */
        .tabs { display: flex; background: #333; }
        .tab { 
            flex: 1; padding: 12px; border: none; background: transparent; 
            color: #888; cursor: pointer; font-weight: bold;
        }
        .tab.active { color: var(--accent); background: var(--panel); }

        /* --- GRID CORREGIDA --- */
        .main-layout {
            display: flex; /* Usamos flex para separar HEX del bloque estándar */
            background: #444;
            gap: 1px;
        }

        .hex-sidebar {
            display: none; /* Se activa en modo prog */
            flex-direction: column;
            width: 70px;
            gap: 1px;
        }

        .num-pad {
            flex: 1;
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1px;
        }

        button {
            border: none;
            background: #d1d1d1;
            color: #000;
            padding: 20px 0;
            font-size: 1.2rem;
            cursor: pointer;
        }

        button:hover { opacity: 0.9; }
        
        /* Colores de la imagen */
        .btn-blue { background: var(--blue); color: white; }
        .btn-orange { background: var(--accent); color: white; }
        .btn-hex { background: #555; color: white; flex: 1; }
        .double { grid-column: span 2; }

        /* Mostrar modo prog */
        .prog-active .hex-sidebar { display: flex; }
        .prog-active .prog-screens { display: flex; }

    </style>
</head>
<body>

<div class="calculator" id="calc">
    <div class="tabs">
        <button class="tab active" id="t-std" onclick="setMode('std')">ESTÁNDAR</button>
        <button class="tab" id="t-prog" onclick="setMode('prog')">PROG</button>
    </div>

    <div class="prog-screens">
        <div class="base-row" style="background: var(--blue)"><span class="base-label">HEX</span><span id="h-v" class="base-val">0</span></div>
        <div class="base-row" style="background: var(--green)"><span class="base-label">DEC</span><span id="d-v" class="base-val">0</span></div>
        <div class="base-row" style="background: var(--blue)"><span class="base-label">OCT</span><span id="o-v" class="base-val">0</span></div>
        <div class="base-row" style="background: #444"><span class="base-label">BIN</span><span id="b-v" class="base-val" style="font-size:0.9rem">0000 0000</span></div>
    </div>

    <div id="std-display">0</div>

    <div class="main-layout">
        <div class="hex-sidebar">
            <button class="btn-hex" onclick="add('A')">A</button>
            <button class="btn-hex" onclick="add('B')">B</button>
            <button class="btn-hex" onclick="add('C')">C</button>
            <button class="btn-hex" onclick="add('D')">D</button>
            <button class="btn-hex" onclick="add('E')">E</button>
            <button class="btn-hex" onclick="add('F')">F</button>
        </div>

        <div class="num-pad">
            <button onclick="add('7')">7</button>
            <button onclick="add('8')">8</button>
            <button onclick="add('9')">9</button>
            <button class="btn-orange" onclick="del()">DEL</button>

            <button onclick="add('4')">4</button>
            <button onclick="add('5')">5</button>
            <button onclick="add('6')">6</button>
            <button class="btn-orange" onclick="clearAll()">AC</button>

            <button onclick="add('1')">1</button>
            <button onclick="add('2')">2</button>
            <button onclick="add('3')">3</button>
            <button class="btn-blue" onclick="add('*')">×</button>

            <button onclick="add('0')">0</button>
            <button onclick="add('.')">.</button>
            <button class="btn-blue" onclick="add('+')">+</button>
            <button class="btn-blue" onclick="add('/')">÷</button>

            <button class="btn-blue" onclick="add('-')">−</button>
            <button class="btn-orange double" onclick="solve()">=</button>
            <button class="btn-orange">?</button>
        </div>
    </div>
</div>

<script>
    let val = "0";
    let isProg = false;

    function setMode(m) {
        isProg = (m === 'prog');
        document.getElementById('calc').className = isProg ? 'calculator prog-active' : 'calculator';
        document.getElementById('t-std').classList.toggle('active', !isProg);
        document.getElementById('t-prog').classList.toggle('active', isProg);
        update();
    }

    function add(v) {
        if (val === "0" && v !== ".") val = v;
        else val += v;
        update();
    }

    function clearAll() { val = "0"; update(); }
    function del() { val = val.length > 1 ? val.slice(0, -1) : "0"; update(); }

    function update() {
        document.getElementById('std-display').innerText = val;
        if(isProg) {
            let n = parseInt(val.replace(/[^\dA-F]/g, ''), 10) || 0;
            document.getElementById('h-v').innerText = n.toString(16).toUpperCase();
            document.getElementById('d-v').innerText = n.toString(10);
            document.getElementById('o-v').innerText = n.toString(8);
            document.getElementById('b-v').innerText = n.toString(2).padStart(8, '0').replace(/(.{4})/g, '$1 ');
        }
    }

    function solve() {
        try {
            let res = new Function(`return ${val.replace(/×/g, '*').replace(/÷/g, '/')}`)();
            val = Number(res.toPrecision(10)).toString();
            update();
        } catch {
            val = "Error"; update(); setTimeout(clearAll, 1000);
        }
    }
</script>
</body>
</html>
